{"ast":null,"code":"var _jsxFileName = \"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/src/pages/ProductPage/product-page.jsx\",\n  _s = $RefreshSig$();\nimport { useCallback } from \"react\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { NotFound } from \"../../components/NotFound/NotFound\";\nimport { Product } from \"../../components/Product/product\";\nimport Spinner from \"../../components/Spinner\";\nimport { fetchChangeLikeProduct } from \"../../storage/products/productsSlice\";\nimport { fetchSingleProduct, setProductState } from \"../../storage/singleProduct/singleProductSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductPage = () => {\n  _s();\n  const {\n    productId\n  } = useParams();\n  const dispatch = useDispatch();\n  const {\n    data: product,\n    loading: isLoading,\n    error: errorState\n  } = useSelector(state => state.singleProduct);\n  useEffect(() => {\n    dispatch(fetchSingleProduct(productId));\n  }, [dispatch, productId]);\n  const handleProductLike = useCallback(() => {\n    dispatch(fetchChangeLikeProduct(product)).then(updateProduct => {\n      dispatch(setProductState(updateProduct.payload.product));\n    });\n  }, [product, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container container_inner\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content__cards\",\n      children: [isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 16\n      }, this) : !errorState && /*#__PURE__*/_jsxDEV(Product, {\n        ...product,\n        onProductLike: handleProductLike\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 32\n      }, this), !isLoading && errorState && /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 42\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 7\n  }, this);\n};\n_s(ProductPage, \"X5iKh3/ZFvyjBDgqVQbkcJVLP6I=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["useCallback","useEffect","useDispatch","useSelector","useParams","NotFound","Product","Spinner","fetchChangeLikeProduct","fetchSingleProduct","setProductState","ProductPage","productId","dispatch","data","product","loading","isLoading","error","errorState","state","singleProduct","handleProductLike","then","updateProduct","payload"],"sources":["/home/titus/Рабочий стол/dog-food/src/pages/ProductPage/product-page.jsx"],"sourcesContent":["import { useCallback } from \"react\"\nimport { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useParams } from \"react-router-dom\"\nimport { NotFound } from \"../../components/NotFound/NotFound\"\nimport { Product } from \"../../components/Product/product\"\nimport Spinner from \"../../components/Spinner\"\nimport { fetchChangeLikeProduct } from \"../../storage/products/productsSlice\"\nimport { fetchSingleProduct, setProductState } from \"../../storage/singleProduct/singleProductSlice\"\n\nexport const ProductPage = () => {\n    const { productId } = useParams();\n    const dispatch = useDispatch();\n    const {data: product, loading: isLoading, error: errorState} = useSelector(state => state.singleProduct)\n\n\n    useEffect(()=>{\n      dispatch(fetchSingleProduct(productId))\n    }, [dispatch, productId]);\n\n\n\n    const handleProductLike = useCallback(() => {  \n      dispatch(fetchChangeLikeProduct(product))\n        .then(updateProduct => {\n          dispatch(setProductState(updateProduct.payload.product))\n        })\n    },[product, dispatch]) \n    \n\n    return (\n      <div className=\"container container_inner\">\n          <div className='content__cards'>\n            {isLoading \n              ?<Spinner/>\n              : !errorState && <Product {...product} onProductLike={handleProductLike}/>\n            }\n            {!isLoading && errorState && <NotFound/>}\n            </div>\n      </div>\n    )\n}"],"mappings":";;AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,QAAQ,QAAQ,oCAAoC;AAC7D,SAASC,OAAO,QAAQ,kCAAkC;AAC1D,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,SAASC,sBAAsB,QAAQ,sCAAsC;AAC7E,SAASC,kBAAkB,EAAEC,eAAe,QAAQ,gDAAgD;AAAA;AAEpG,OAAO,MAAMC,WAAW,GAAG,MAAM;EAAA;EAC7B,MAAM;IAAEC;EAAU,CAAC,GAAGR,SAAS,EAAE;EACjC,MAAMS,QAAQ,GAAGX,WAAW,EAAE;EAC9B,MAAM;IAACY,IAAI,EAAEC,OAAO;IAAEC,OAAO,EAAEC,SAAS;IAAEC,KAAK,EAAEC;EAAU,CAAC,GAAGhB,WAAW,CAACiB,KAAK,IAAIA,KAAK,CAACC,aAAa,CAAC;EAGxGpB,SAAS,CAAC,MAAI;IACZY,QAAQ,CAACJ,kBAAkB,CAACG,SAAS,CAAC,CAAC;EACzC,CAAC,EAAE,CAACC,QAAQ,EAAED,SAAS,CAAC,CAAC;EAIzB,MAAMU,iBAAiB,GAAGtB,WAAW,CAAC,MAAM;IAC1Ca,QAAQ,CAACL,sBAAsB,CAACO,OAAO,CAAC,CAAC,CACtCQ,IAAI,CAACC,aAAa,IAAI;MACrBX,QAAQ,CAACH,eAAe,CAACc,aAAa,CAACC,OAAO,CAACV,OAAO,CAAC,CAAC;IAC1D,CAAC,CAAC;EACN,CAAC,EAAC,CAACA,OAAO,EAAEF,QAAQ,CAAC,CAAC;EAGtB,oBACE;IAAK,SAAS,EAAC,2BAA2B;IAAA,uBACtC;MAAK,SAAS,EAAC,gBAAgB;MAAA,WAC5BI,SAAS,gBACP,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA,QAAE,GACT,CAACE,UAAU,iBAAI,QAAC,OAAO;QAAA,GAAKJ,OAAO;QAAE,aAAa,EAAEO;MAAkB;QAAA;QAAA;QAAA;MAAA,QAAE,EAE3E,CAACL,SAAS,IAAIE,UAAU,iBAAI,QAAC,QAAQ;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA;EAClC;IAAA;IAAA;IAAA;EAAA,QACN;AAEZ,CAAC;AAAA,GA/BYR,WAAW;EAAA,QACEP,SAAS,EACdF,WAAW,EACmCC,WAAW;AAAA;AAAA,KAHjEQ,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}