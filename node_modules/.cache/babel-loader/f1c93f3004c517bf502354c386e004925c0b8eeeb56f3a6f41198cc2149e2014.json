{"ast":null,"code":"import _defineProperty from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import cn from\"classnames\";import s from'./index.module.css';import{useEffect,useState,useCallback}from\"react\";import{ReactComponent as StarIcon}from\"./star.svg\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Rating=function Rating(_ref){var _ref$isEditable=_ref.isEditable,isEditable=_ref$isEditable===void 0?false:_ref$isEditable,rating=_ref.rating,_ref$setRating=_ref.setRating,setRating=_ref$setRating===void 0?null:_ref$setRating;var _useState=useState(new Array(5).fill(/*#__PURE__*/_jsx(_Fragment,{}))),_useState2=_slicedToArray(_useState,2),ratingArray=_useState2[0],setRatingArray=_useState2[1];var constructRating=useCallback(function(currentRating){var updateArray=ratingArray.map(function(ratingElement,index){var _cn;return/*#__PURE__*/_jsx(StarIcon,{className:cn(s.star,(_cn={},_defineProperty(_cn,s.filled,index<currentRating),_defineProperty(_cn,s.editable,isEditable),_cn)),onMouseEnter:function onMouseEnter(){return changeDisplay(index+1);},onMouseLeave:function onMouseLeave(){return changeDisplay(rating);},onClick:function onClick(){return changeRating(index+1);}});});setRatingArray(updateArray);},[rating,isEditable]);var changeDisplay=function changeDisplay(rating){if(!isEditable)return;constructRating(rating);};var changeRating=function changeRating(rating){if(!isEditable||!setRating)return;setRating(rating);};useEffect(function(){constructRating(rating);},[rating,constructRating]);return/*#__PURE__*/_jsx(\"div\",{children:ratingArray.map(function(r,i){return/*#__PURE__*/_jsx(\"span\",{children:r},i);})});};","map":{"version":3,"names":["cn","s","useEffect","useState","useCallback","ReactComponent","StarIcon","Rating","isEditable","rating","setRating","Array","fill","ratingArray","setRatingArray","constructRating","currentRating","updateArray","map","ratingElement","index","star","filled","editable","changeDisplay","changeRating","r","i"],"sources":["/home/titus/Рабочий стол/dog-food/src/components/Rating/rating.jsx"],"sourcesContent":["import cn  from \"classnames\";\nimport s from './index.module.css'\nimport { useEffect, useState, useCallback } from \"react\";\nimport { ReactComponent as StarIcon } from \"./star.svg\";\n\n\nexport const Rating = ({isEditable = false, rating, setRating = null}) => {\n    const [ratingArray, setRatingArray] = useState(new Array(5).fill(<></>));\n\n    const constructRating = useCallback((currentRating) => {\n        const updateArray = ratingArray.map((ratingElement, index) => {\n            return (\n                <StarIcon\n                    className={cn(s.star, {\n                        [s.filled]: index < currentRating,\n                        [s.editable]: isEditable\n                    })}\n                    onMouseEnter={()=>changeDisplay(index + 1)}\n                    onMouseLeave={()=>changeDisplay(rating)}\n                    onClick={() => changeRating(index + 1)}\n\n                />\n            )\n        })\n        setRatingArray(updateArray)\n    },[rating, isEditable])\n    \n    const changeDisplay = (rating) => {\n        if(!isEditable) return\n        constructRating(rating)\n    }\n\n    const changeRating = (rating) => {\n        if(!isEditable || !setRating) return\n\n        setRating(rating)\n    }\n\n    useEffect(() => {\n        constructRating(rating)\n    }, [rating, constructRating])\n\n\n\n    return (\n        <div> \n            {ratingArray.map((r, i) => <span key={i}>{ r }</span>) }\n        </div>\n    )\n}"],"mappings":"8VAAA,MAAOA,GAAE,KAAO,YAAY,CAC5B,MAAOC,EAAC,KAAM,oBAAoB,CAClC,OAASC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACxD,OAASC,cAAc,GAAIC,SAAQ,KAAQ,YAAY,CAAC,gGAGxD,MAAO,IAAMC,OAAM,CAAG,QAATA,OAAM,MAAuD,0BAAlDC,UAAU,CAAVA,UAAU,0BAAG,KAAK,iBAAEC,MAAM,MAANA,MAAM,qBAAEC,SAAS,CAATA,SAAS,yBAAG,IAAI,gBAChE,cAAsCP,QAAQ,CAAC,GAAIQ,MAAK,CAAC,CAAC,CAAC,CAACC,IAAI,cAAC,kBAAK,CAAC,CAAC,wCAAjEC,WAAW,eAAEC,cAAc,eAElC,GAAMC,gBAAe,CAAGX,WAAW,CAAC,SAACY,aAAa,CAAK,CACnD,GAAMC,YAAW,CAAGJ,WAAW,CAACK,GAAG,CAAC,SAACC,aAAa,CAAEC,KAAK,CAAK,SAC1D,mBACI,KAAC,QAAQ,EACL,SAAS,CAAEpB,EAAE,CAACC,CAAC,CAACoB,IAAI,6BACfpB,CAAC,CAACqB,MAAM,CAAGF,KAAK,CAAGJ,aAAa,sBAChCf,CAAC,CAACsB,QAAQ,CAAGf,UAAU,OACzB,CACH,YAAY,CAAE,8BAAIgB,cAAa,CAACJ,KAAK,CAAG,CAAC,CAAC,EAAC,CAC3C,YAAY,CAAE,8BAAII,cAAa,CAACf,MAAM,CAAC,EAAC,CACxC,OAAO,CAAE,yBAAMgB,aAAY,CAACL,KAAK,CAAG,CAAC,CAAC,EAAC,EAEzC,CAEV,CAAC,CAAC,CACFN,cAAc,CAACG,WAAW,CAAC,CAC/B,CAAC,CAAC,CAACR,MAAM,CAAED,UAAU,CAAC,CAAC,CAEvB,GAAMgB,cAAa,CAAG,QAAhBA,cAAa,CAAIf,MAAM,CAAK,CAC9B,GAAG,CAACD,UAAU,CAAE,OAChBO,eAAe,CAACN,MAAM,CAAC,CAC3B,CAAC,CAED,GAAMgB,aAAY,CAAG,QAAfA,aAAY,CAAIhB,MAAM,CAAK,CAC7B,GAAG,CAACD,UAAU,EAAI,CAACE,SAAS,CAAE,OAE9BA,SAAS,CAACD,MAAM,CAAC,CACrB,CAAC,CAEDP,SAAS,CAAC,UAAM,CACZa,eAAe,CAACN,MAAM,CAAC,CAC3B,CAAC,CAAE,CAACA,MAAM,CAAEM,eAAe,CAAC,CAAC,CAI7B,mBACI,qBACKF,WAAW,CAACK,GAAG,CAAC,SAACQ,CAAC,CAAEC,CAAC,qBAAK,sBAAgBD,CAAC,EAANC,CAAC,CAAc,GAAC,EACpD,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}