{"ast":null,"code":"var _jsxFileName = \"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/src/components/App/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Routes, Route, useLocation, useNavigate } from 'react-router-dom';\nimport Footer from '../Footer/Footer';\nimport RegistrationForm from '../Form/RegistrationForm';\nimport Header from '../Header/Header';\nimport Modal from '../Modal/Modal';\nimport Logo from '../Logo/Logo';\nimport Search from '../Search/Search';\nimport CatalogPage from '../../pages/Catalog/CatalogPage';\nimport FavouritePage from '../../pages/Favourite/FavouritePage';\nimport FAQPage from '../../pages/FAQ/FAQPage';\nimport MainPage from '../../pages/MainPage/MainPage';\nimport NotFoundPage from '../../pages/NotFoundPage/NotFoundPage';\nimport ProductPage from '../../pages/Product/ProductPage';\nimport { UserContext } from '../../context/userContext';\nimport { LoadingContext } from '../../context/loadingContext';\nimport api from '../../utils/api';\nimport { signup, signin, checkToken } from '../../utils/auth';\nimport isLike from '../../utils/utils';\nimport s from './style.module.css';\nimport LoginForm from '../Form/LoginForm';\nimport ResetForm from '../Form/ResetForm';\nimport MainForm from '../Form/MainForm';\nimport { deleteItem, setItem, getItem } from '../../utils/localStorage';\nimport { openNotification } from '../../utils/openNotification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _location$state, _location$state2;\n  const [cards, setCards] = useState([]);\n  const [favouriteCards, setFavouriteCards] = useState([]);\n  const [sortedCards, setSortedCards] = useState([]);\n  const [currentSort, setCurrentSort] = useState('default');\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [user, setUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const backgroundLocation = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.backgroundLocation;\n  const mainUrl = (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.mainUrl;\n  const authUrls = ['/login', '/registration', '/reset'];\n  const isAuthLocation = authUrls.includes(location === null || location === void 0 ? void 0 : location.pathname);\n  const handleRequestAuth = data => {\n    if (location.pathname === '/login') {\n      signin(data).then(data => {\n        if (!data.err) {\n          setItem('jwt', data.token);\n          navigate('/');\n          setLoggedIn(true);\n        }\n        return data;\n      }).catch((err, data) => {\n        openNotification('error', err);\n      });\n    }\n    if (location.pathname === '/registration') {\n      signup(data).then(data => {}).catch(err => {\n        openNotification('error', err);\n      });\n    }\n  };\n  const logout = () => {\n    setLoggedIn(false);\n    deleteItem('jwt');\n    if (isAuthLocation) return;\n    navigate('/login');\n  };\n  const handleTokenCheck = () => {\n    const jwt = getItem('jwt');\n    console.log(location.pathname);\n    if (jwt) {\n      checkToken(jwt).then(data => {\n        if (data) {\n          setLoggedIn(true);\n        }\n      });\n    } else {\n      if ((location === null || location === void 0 ? void 0 : location.pathname) !== '/') {\n        logout();\n      }\n    }\n  };\n  useEffect(() => {\n    handleTokenCheck();\n  }, [location === null || location === void 0 ? void 0 : location.pathname]);\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getUserInfo(), api.getAllProducts()]).then(_ref => {\n        let [userData, productsData] = _ref;\n        setUser(userData);\n        setCards(productsData.products);\n        setSortedCards(productsData.products);\n        const favourites = productsData.products.filter(product => isLike(product.likes, userData._id));\n        setFavouriteCards(favourites);\n        setIsLoading(false);\n      });\n    }\n  }, [loggedIn]);\n  const handleRequest = useCallback(newSearchQuery => {\n    setIsLoading(true);\n    setSearchQuery(newSearchQuery);\n    api.search(newSearchQuery).then(data => {\n      setCards(data);\n      setSortedCards(data);\n    }).finally(() => setIsLoading(false));\n  }, []);\n  const handleProductLike = useCallback((productId, productLikes) => {\n    const isLiked = isLike(productLikes, user._id);\n    return api.changeLikeStatus(productId, isLiked).then(updateProduct => {\n      const updateCards = cards.map(card => card._id === updateProduct._id ? updateProduct : card);\n      setCards(updateCards);\n      setSortedCards(updateCards);\n      if (isLiked) {\n        setFavouriteCards(prevState => prevState.filter(card => card._id !== updateProduct._id));\n      } else {\n        setFavouriteCards(prevState => [...prevState, updateProduct]);\n      }\n      return updateProduct;\n    });\n  }, [cards, user._id]);\n  const onChangeLoading = useCallback(isLoading => {\n    setIsLoading(isLoading);\n  }, []);\n  const onChangeSort = useCallback(newSort => {\n    setCurrentSort(newSort);\n    if (newSort === 'cheap') {\n      setSortedCards([...cards].sort((a, b) => a.price - b.price));\n    }\n    if (newSort === 'low') {\n      setSortedCards([...cards].sort((a, b) => b.price - a.price));\n    }\n    if (newSort === 'sale') {\n      setSortedCards([...cards].sort((a, b) => b.discount - a.discount));\n    }\n    if (newSort === 'default') {\n      setSortedCards(cards);\n    }\n  }, [cards]);\n  return /*#__PURE__*/_jsxDEV(LoadingContext.Provider, {\n    value: {\n      isLoading,\n      onChangeLoading\n    },\n    children: /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n      value: {\n        user,\n        handleProductLike,\n        favourites: favouriteCards.length,\n        loggedIn\n      },\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        user: user,\n        loggedIn: loggedIn,\n        logout: logout,\n        children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Search, {\n              onSearch: handleRequest\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/catalog\",\n            element: /*#__PURE__*/_jsxDEV(Search, {\n              onSearch: handleRequest\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.container,\n        children: [/*#__PURE__*/_jsxDEV(Routes, {\n          location: backgroundLocation ? {\n            ...backgroundLocation,\n            pathname: mainUrl\n          } : location,\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(MainPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/catalog\",\n            element: loggedIn && /*#__PURE__*/_jsxDEV(CatalogPage, {\n              currentSort: currentSort,\n              onChangeSort: onChangeSort,\n              searchQuery: searchQuery,\n              cards: sortedCards\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 57\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/product/:productId\",\n            element: /*#__PURE__*/_jsxDEV(ProductPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/faq\",\n            element: /*#__PURE__*/_jsxDEV(FAQPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/favourite\",\n            element: loggedIn && /*#__PURE__*/_jsxDEV(FavouritePage, {\n              favouriteCards: favouriteCards\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/registration\",\n            element: /*#__PURE__*/_jsxDEV(RegistrationForm, {\n              handleRequestAuth: handleRequestAuth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/reset\",\n            element: /*#__PURE__*/_jsxDEV(ResetForm, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(LoginForm, {\n              handleRequestAuth: handleRequestAuth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"*\",\n            element: /*#__PURE__*/_jsxDEV(NotFoundPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), backgroundLocation && /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            element: /*#__PURE__*/_jsxDEV(Modal, {\n              children: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/reset\",\n            element: /*#__PURE__*/_jsxDEV(Modal, {\n              children: /*#__PURE__*/_jsxDEV(ResetForm, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/registration\",\n            element: /*#__PURE__*/_jsxDEV(Modal, {\n              children: /*#__PURE__*/_jsxDEV(RegistrationForm, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"l+J4OwW5oIgn9bVm2s8G7+UFWVI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Routes","Route","useLocation","useNavigate","Footer","RegistrationForm","Header","Modal","Logo","Search","CatalogPage","FavouritePage","FAQPage","MainPage","NotFoundPage","ProductPage","UserContext","LoadingContext","api","signup","signin","checkToken","isLike","s","LoginForm","ResetForm","MainForm","deleteItem","setItem","getItem","openNotification","App","cards","setCards","favouriteCards","setFavouriteCards","sortedCards","setSortedCards","currentSort","setCurrentSort","isLoading","setIsLoading","searchQuery","setSearchQuery","user","setUser","loggedIn","setLoggedIn","location","navigate","backgroundLocation","state","mainUrl","authUrls","isAuthLocation","includes","pathname","handleRequestAuth","data","then","err","token","catch","logout","handleTokenCheck","jwt","console","log","Promise","all","getUserInfo","getAllProducts","userData","productsData","products","favourites","filter","product","likes","_id","handleRequest","newSearchQuery","search","finally","handleProductLike","productId","productLikes","isLiked","changeLikeStatus","updateProduct","updateCards","map","card","prevState","onChangeLoading","onChangeSort","newSort","sort","a","b","price","discount","length","container"],"sources":["/home/titus/Рабочий стол/dog-food/src/components/App/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Routes, Route, useLocation, useNavigate } from 'react-router-dom';\n\nimport Footer from '../Footer/Footer';\nimport RegistrationForm from '../Form/RegistrationForm';\nimport Header from '../Header/Header';\nimport Modal from '../Modal/Modal';\nimport Logo from '../Logo/Logo';\nimport Search from '../Search/Search';\n\nimport CatalogPage from '../../pages/Catalog/CatalogPage';\nimport FavouritePage from '../../pages/Favourite/FavouritePage';\nimport FAQPage from '../../pages/FAQ/FAQPage';\nimport MainPage from '../../pages/MainPage/MainPage';\nimport NotFoundPage from '../../pages/NotFoundPage/NotFoundPage';\nimport ProductPage from '../../pages/Product/ProductPage';\n\nimport { UserContext } from '../../context/userContext';\nimport { LoadingContext } from '../../context/loadingContext';\n\nimport api from '../../utils/api';\nimport { signup, signin, checkToken } from '../../utils/auth';\nimport isLike from '../../utils/utils';\n\nimport s from './style.module.css';\nimport LoginForm from '../Form/LoginForm';\nimport ResetForm from '../Form/ResetForm';\nimport MainForm from '../Form/MainForm';\nimport { deleteItem, setItem, getItem } from '../../utils/localStorage';\nimport { openNotification } from '../../utils/openNotification';\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [favouriteCards, setFavouriteCards] = useState([]);\n  const [sortedCards, setSortedCards] = useState([]);\n  const [currentSort, setCurrentSort] = useState('default');\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [user, setUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const backgroundLocation = location.state?.backgroundLocation;\n  const mainUrl = location.state?.mainUrl;\n\n  const authUrls = ['/login', '/registration', '/reset'];\n  const isAuthLocation = authUrls.includes(location?.pathname);\n\n  const handleRequestAuth = (data) => {\n    if (location.pathname === '/login') {\n      signin(data)\n        .then((data) => {\n          if (!data.err) {\n            setItem('jwt', data.token);\n            navigate('/');\n            setLoggedIn(true);\n          }\n          return data;\n        })\n        .catch((err, data) => {\n          openNotification('error', err);\n        });\n    }\n    if (location.pathname === '/registration') {\n      signup(data)\n        .then((data) => {})\n        .catch((err) => {\n          openNotification('error', err);\n        });\n    }\n  };\n\n  const logout = () => {\n    setLoggedIn(false);\n    deleteItem('jwt');\n    if (isAuthLocation) return;\n    navigate('/login');\n  };\n\n  const handleTokenCheck = () => {\n    const jwt = getItem('jwt');\n    console.log(location.pathname);\n    if (jwt) {\n      checkToken(jwt).then((data) => {\n        if (data) {\n          setLoggedIn(true);\n        }\n      });\n    } else {\n      if (location?.pathname !== '/') {\n        logout();\n      }\n    }\n  };\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, [location?.pathname]);\n\n  useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getUserInfo(), api.getAllProducts()]).then(([userData, productsData]) => {\n        setUser(userData);\n        setCards(productsData.products);\n        setSortedCards(productsData.products);\n        const favourites = productsData.products.filter((product) => isLike(product.likes, userData._id));\n        setFavouriteCards(favourites);\n        setIsLoading(false);\n      });\n    }\n  }, [loggedIn]);\n\n  const handleRequest = useCallback((newSearchQuery) => {\n    setIsLoading(true);\n    setSearchQuery(newSearchQuery);\n    api\n      .search(newSearchQuery)\n      .then((data) => {\n        setCards(data);\n        setSortedCards(data);\n      })\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  const handleProductLike = useCallback(\n    (productId, productLikes) => {\n      const isLiked = isLike(productLikes, user._id);\n      return api.changeLikeStatus(productId, isLiked).then((updateProduct) => {\n        const updateCards = cards.map((card) => (card._id === updateProduct._id ? updateProduct : card));\n        setCards(updateCards);\n        setSortedCards(updateCards);\n\n        if (isLiked) {\n          setFavouriteCards((prevState) => prevState.filter((card) => card._id !== updateProduct._id));\n        } else {\n          setFavouriteCards((prevState) => [...prevState, updateProduct]);\n        }\n\n        return updateProduct;\n      });\n    },\n    [cards, user._id]\n  );\n\n  const onChangeLoading = useCallback((isLoading) => {\n    setIsLoading(isLoading);\n  }, []);\n\n  const onChangeSort = useCallback(\n    (newSort) => {\n      setCurrentSort(newSort);\n      if (newSort === 'cheap') {\n        setSortedCards([...cards].sort((a, b) => a.price - b.price));\n      }\n      if (newSort === 'low') {\n        setSortedCards([...cards].sort((a, b) => b.price - a.price));\n      }\n      if (newSort === 'sale') {\n        setSortedCards([...cards].sort((a, b) => b.discount - a.discount));\n      }\n      if (newSort === 'default') {\n        setSortedCards(cards);\n      }\n    },\n    [cards]\n  );\n\n  return (\n    <LoadingContext.Provider value={{ isLoading, onChangeLoading }}>\n      <UserContext.Provider value={{ user, handleProductLike, favourites: favouriteCards.length, loggedIn }}>\n        <Header user={user} loggedIn={loggedIn} logout={logout}>\n          <Logo />\n          <Routes>\n            <Route path=\"/\" element={<Search onSearch={handleRequest} />}></Route>\n            <Route path=\"/catalog\" element={<Search onSearch={handleRequest} />}></Route>\n          </Routes>\n        </Header>\n        <div className={s.container}>\n          <Routes location={backgroundLocation ? { ...backgroundLocation, pathname: mainUrl } : location}>\n            <Route path=\"/\" element={<MainPage></MainPage>}></Route>\n            <Route path=\"/catalog\" element={loggedIn && <CatalogPage currentSort={currentSort} onChangeSort={onChangeSort} searchQuery={searchQuery} cards={sortedCards}></CatalogPage>}></Route>\n            <Route path=\"/product/:productId\" element={<ProductPage></ProductPage>}></Route>\n            <Route path=\"/faq\" element={<FAQPage></FAQPage>}></Route>\n            <Route path=\"/favourite\" element={loggedIn && <FavouritePage favouriteCards={favouriteCards}></FavouritePage>}></Route>\n            <Route path=\"/registration\" element={<RegistrationForm handleRequestAuth={handleRequestAuth}></RegistrationForm>}></Route>\n            <Route path=\"/reset\" element={<ResetForm></ResetForm>}></Route>\n            <Route path=\"/login\" element={<LoginForm handleRequestAuth={handleRequestAuth}></LoginForm>}></Route>\n            <Route path=\"*\" element={<NotFoundPage></NotFoundPage>}></Route>\n          </Routes>\n          {backgroundLocation && (\n            <Routes>\n              <Route\n                path=\"/login\"\n                element={\n                  <Modal>\n                    <LoginForm></LoginForm>\n                  </Modal>\n                }\n              ></Route>\n              <Route\n                path=\"/reset\"\n                element={\n                  <Modal>\n                    <ResetForm></ResetForm>\n                  </Modal>\n                }\n              ></Route>\n              <Route\n                path=\"/registration\"\n                element={\n                  <Modal>\n                    <RegistrationForm></RegistrationForm>\n                  </Modal>\n                }\n              ></Route>\n            </Routes>\n          )}\n        </div>\n        <Footer />\n      </UserContext.Provider>\n    </LoadingContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}