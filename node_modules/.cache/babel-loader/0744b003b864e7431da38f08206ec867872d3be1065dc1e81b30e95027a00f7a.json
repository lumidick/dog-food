{"ast":null,"code":"import _classCallCheck from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/createClass.js\";var onResponce=function onResponce(res){return res.ok?res.json():res.json().then(function(err){return Promise.reject(err);});};var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._headers=headers;this._baseUrl=baseUrl;}_createClass(Api,[{key:\"getProductList\",value:function getProductList(){return fetch(\"\".concat(this._baseUrl,\"/products\"),{headers:this._headers}).then(onResponce);}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(onResponce);}},{key:\"getProductById\",value:function getProductById(idProduct){return fetch(\"\".concat(this._baseUrl,\"/products/\").concat(idProduct),{headers:this._headers}).then(onResponce);}},{key:\"setUserInfo\",value:function setUserInfo(dataUser){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify(dataUser)}).then(onResponce);}},{key:\"createReviewProduct\",value:function createReviewProduct(productId,reviewData){return fetch(\"\".concat(this._baseUrl,\"/products/review/\").concat(productId),{method:'POST',headers:this._headers,body:JSON.stringify(reviewData)}).then(onResponce);}},{key:\"search\",value:function search(searchQuery){return fetch(\"\".concat(this._baseUrl,\"/products/search?query=\").concat(searchQuery),{headers:this._headers}).then(onResponce);}},{key:\"changeLikeProduct\",value:function changeLikeProduct(productId,isLike){return fetch(\"\".concat(this._baseUrl,\"/products/likes/\").concat(productId),{method:isLike?\"DELETE\":\"PUT\",headers:this._headers}).then(onResponce);}}]);return Api;}();var config={baseUrl:'https://api.react-learning.ru',headers:{'content-type':'application/json',Authorization:'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjJmOTk5MmFlNWM0MGMxMGMxMWRmZTQiLCJpYXQiOjE2NDcyODY2ODEsImV4cCI6MTY3ODgyMjY4MX0.WHKXAErKZtY445yXecOFZsx981MuXicJti-okSY-tac'}};var api=new Api(config);export default api;","map":{"version":3,"names":["onResponce","res","ok","json","then","err","Promise","reject","Api","baseUrl","headers","_headers","_baseUrl","fetch","idProduct","dataUser","method","body","JSON","stringify","productId","reviewData","searchQuery","isLike","config","Authorization","api"],"sources":["/home/titus/Рабочий стол/dog-food/src/utils/api.js"],"sourcesContent":["const onResponce = (res) => {\n    return res.ok ? res.json() : res.json().then(err => Promise.reject(err)) ;\n}\n\nclass Api {\n    constructor({baseUrl, headers}){\n        this._headers = headers;\n        this._baseUrl= baseUrl;\n    }\n\n    getProductList() {\n        return fetch(`${this._baseUrl}/products`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    getProductById(idProduct) {\n        return fetch(`${this._baseUrl}/products/${idProduct}`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    setUserInfo(dataUser) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(dataUser)\n        }).then(onResponce)\n    }\n\n    createReviewProduct(productId, reviewData) {\n        return fetch(`${this._baseUrl}/products/review/${productId}`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(reviewData)\n        }).then(onResponce)\n    }\n\n    search(searchQuery) {\n        return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    changeLikeProduct(productId, isLike) {\n        return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n            method: isLike ? \"DELETE\" : \"PUT\",\n            headers: this._headers\n        }).then(onResponce)\n    }\n}\n\nconst config = {\n    baseUrl: 'https://api.react-learning.ru',\n    headers: {\n        'content-type': 'application/json',\n        Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjJmOTk5MmFlNWM0MGMxMGMxMWRmZTQiLCJpYXQiOjE2NDcyODY2ODEsImV4cCI6MTY3ODgyMjY4MX0.WHKXAErKZtY445yXecOFZsx981MuXicJti-okSY-tac'\n    }\n}\n\nconst api = new Api(config);\n\nexport default api;"],"mappings":"0VAAA,GAAMA,WAAU,CAAG,QAAbA,WAAU,CAAIC,GAAG,CAAK,CACxB,MAAOA,IAAG,CAACC,EAAE,CAAGD,GAAG,CAACE,IAAI,EAAE,CAAGF,GAAG,CAACE,IAAI,EAAE,CAACC,IAAI,CAAC,SAAAC,GAAG,QAAIC,QAAO,CAACC,MAAM,CAACF,GAAG,CAAC,GAAC,CAC5E,CAAC,IAEKG,IAAG,yBACL,kBAA+B,IAAlBC,QAAO,MAAPA,OAAO,CAAEC,OAAO,MAAPA,OAAO,2BACzB,IAAI,CAACC,QAAQ,CAAGD,OAAO,CACvB,IAAI,CAACE,QAAQ,CAAEH,OAAO,CAC1B,CAAC,8CAED,yBAAiB,CACb,MAAOI,MAAK,WAAI,IAAI,CAACD,QAAQ,cAAa,CACtCF,OAAO,CAAE,IAAI,CAACC,QAClB,CAAC,CAAC,CAACP,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,2BAED,sBAAc,CACV,MAAOa,MAAK,WAAI,IAAI,CAACD,QAAQ,cAAa,CACtCF,OAAO,CAAE,IAAI,CAACC,QAClB,CAAC,CAAC,CAACP,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,8BAED,wBAAec,SAAS,CAAE,CACtB,MAAOD,MAAK,WAAI,IAAI,CAACD,QAAQ,sBAAaE,SAAS,EAAI,CACnDJ,OAAO,CAAE,IAAI,CAACC,QAClB,CAAC,CAAC,CAACP,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,2BAED,qBAAYe,QAAQ,CAAE,CAClB,MAAOF,MAAK,WAAI,IAAI,CAACD,QAAQ,cAAa,CACtCI,MAAM,CAAE,OAAO,CACfN,OAAO,CAAE,IAAI,CAACC,QAAQ,CACtBM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CACjC,CAAC,CAAC,CAACX,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,mCAED,6BAAoBoB,SAAS,CAAEC,UAAU,CAAE,CACvC,MAAOR,MAAK,WAAI,IAAI,CAACD,QAAQ,6BAAoBQ,SAAS,EAAI,CAC1DJ,MAAM,CAAE,MAAM,CACdN,OAAO,CAAE,IAAI,CAACC,QAAQ,CACtBM,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACE,UAAU,CACnC,CAAC,CAAC,CAACjB,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,sBAED,gBAAOsB,WAAW,CAAE,CAChB,MAAOT,MAAK,WAAI,IAAI,CAACD,QAAQ,mCAA0BU,WAAW,EAAI,CAClEZ,OAAO,CAAE,IAAI,CAACC,QAClB,CAAC,CAAC,CAACP,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,iCAED,2BAAkBoB,SAAS,CAAEG,MAAM,CAAE,CACjC,MAAOV,MAAK,WAAI,IAAI,CAACD,QAAQ,4BAAmBQ,SAAS,EAAI,CACzDJ,MAAM,CAAEO,MAAM,CAAG,QAAQ,CAAG,KAAK,CACjCb,OAAO,CAAE,IAAI,CAACC,QAClB,CAAC,CAAC,CAACP,IAAI,CAACJ,UAAU,CAAC,CACvB,CAAC,mBAGL,GAAMwB,OAAM,CAAG,CACXf,OAAO,CAAE,+BAA+B,CACxCC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClCe,aAAa,CAAE,8KACnB,CACJ,CAAC,CAED,GAAMC,IAAG,CAAG,GAAIlB,IAAG,CAACgB,MAAM,CAAC,CAE3B,cAAeE,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}