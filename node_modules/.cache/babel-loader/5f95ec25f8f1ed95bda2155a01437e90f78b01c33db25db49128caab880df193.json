{"ast":null,"code":"const onResponce = res => {\n  return res.ok ? res.json() : res.json().then(err => Promise.reject(err));\n};\nclass Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n  getProductList() {\n    return fetch(`${this._baseUrl}/products`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  getProductById(idProduct) {\n    return fetch(`${this._baseUrl}/products/${idProduct}`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  setUserInfo(dataUser) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(dataUser)\n    }).then(onResponce);\n  }\n  createReviewProduct(productId, reviewData) {\n    return fetch(`${this._baseUrl}/products/review/${productId}`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(reviewData)\n    }).then(onResponce);\n  }\n  search(searchQuery) {\n    return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n      headers: this._headers\n    }).then(onResponce);\n  }\n  changeLikeProduct(productId, isLike) {\n    return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n      method: isLike ? \"DELETE\" : \"PUT\",\n      headers: this._headers\n    }).then(onResponce);\n  }\n}\nconst config = {\n  baseUrl: 'https://api.react-learning.ru',\n  headers: {\n    'content-type': 'application/json',\n    Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjJmOTk5MmFlNWM0MGMxMGMxMWRmZTQiLCJpYXQiOjE2NDcyODY2ODEsImV4cCI6MTY3ODgyMjY4MX0.WHKXAErKZtY445yXecOFZsx981MuXicJti-okSY-tac'\n  }\n};\nconst api = new Api(config);\nexport default api;","map":{"version":3,"names":["onResponce","res","ok","json","then","err","Promise","reject","Api","constructor","baseUrl","headers","_headers","_baseUrl","getProductList","fetch","getUserInfo","getProductById","idProduct","setUserInfo","dataUser","method","body","JSON","stringify","createReviewProduct","productId","reviewData","search","searchQuery","changeLikeProduct","isLike","config","Authorization","api"],"sources":["/home/titus/Рабочий стол/dog-food/src/utils/api.js"],"sourcesContent":["const onResponce = (res) => {\n    return res.ok ? res.json() : res.json().then(err => Promise.reject(err)) ;\n}\n\nclass Api {\n    constructor({baseUrl, headers}){\n        this._headers = headers;\n        this._baseUrl= baseUrl;\n    }\n\n    getProductList() {\n        return fetch(`${this._baseUrl}/products`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    getProductById(idProduct) {\n        return fetch(`${this._baseUrl}/products/${idProduct}`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    setUserInfo(dataUser) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(dataUser)\n        }).then(onResponce)\n    }\n\n    createReviewProduct(productId, reviewData) {\n        return fetch(`${this._baseUrl}/products/review/${productId}`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(reviewData)\n        }).then(onResponce)\n    }\n\n    search(searchQuery) {\n        return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n            headers: this._headers\n        }).then(onResponce)\n    }\n\n    changeLikeProduct(productId, isLike) {\n        return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n            method: isLike ? \"DELETE\" : \"PUT\",\n            headers: this._headers\n        }).then(onResponce)\n    }\n}\n\nconst config = {\n    baseUrl: 'https://api.react-learning.ru',\n    headers: {\n        'content-type': 'application/json',\n        Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjJmOTk5MmFlNWM0MGMxMGMxMWRmZTQiLCJpYXQiOjE2NDcyODY2ODEsImV4cCI6MTY3ODgyMjY4MX0.WHKXAErKZtY445yXecOFZsx981MuXicJti-okSY-tac'\n    }\n}\n\nconst api = new Api(config);\n\nexport default api;"],"mappings":"AAAA,MAAMA,UAAU,GAAIC,GAAG,IAAK;EACxB,OAAOA,GAAG,CAACC,EAAE,GAAGD,GAAG,CAACE,IAAI,EAAE,GAAGF,GAAG,CAACE,IAAI,EAAE,CAACC,IAAI,CAACC,GAAG,IAAIC,OAAO,CAACC,MAAM,CAACF,GAAG,CAAC,CAAC;AAC5E,CAAC;AAED,MAAMG,GAAG,CAAC;EACNC,WAAW,OAAoB;IAAA,IAAnB;MAACC,OAAO;MAAEC;IAAO,CAAC;IAC1B,IAAI,CAACC,QAAQ,GAAGD,OAAO;IACvB,IAAI,CAACE,QAAQ,GAAEH,OAAO;EAC1B;EAEAI,cAAc,GAAG;IACb,OAAOC,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,WAAU,EAAE;MACtCF,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACR,IAAI,CAACJ,UAAU,CAAC;EACvB;EAEAgB,WAAW,GAAG;IACV,OAAOD,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,WAAU,EAAE;MACtCF,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACR,IAAI,CAACJ,UAAU,CAAC;EACvB;EAEAiB,cAAc,CAACC,SAAS,EAAE;IACtB,OAAOH,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,aAAYK,SAAU,EAAC,EAAE;MACnDP,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACR,IAAI,CAACJ,UAAU,CAAC;EACvB;EAEAmB,WAAW,CAACC,QAAQ,EAAE;IAClB,OAAOL,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,WAAU,EAAE;MACtCQ,MAAM,EAAE,OAAO;MACfV,OAAO,EAAE,IAAI,CAACC,QAAQ;MACtBU,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;IACjC,CAAC,CAAC,CAAChB,IAAI,CAACJ,UAAU,CAAC;EACvB;EAEAyB,mBAAmB,CAACC,SAAS,EAAEC,UAAU,EAAE;IACvC,OAAOZ,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,oBAAmBa,SAAU,EAAC,EAAE;MAC1DL,MAAM,EAAE,MAAM;MACdV,OAAO,EAAE,IAAI,CAACC,QAAQ;MACtBU,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACG,UAAU;IACnC,CAAC,CAAC,CAACvB,IAAI,CAACJ,UAAU,CAAC;EACvB;EAEA4B,MAAM,CAACC,WAAW,EAAE;IAChB,OAAOd,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,0BAAyBgB,WAAY,EAAC,EAAE;MAClElB,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACR,IAAI,CAACJ,UAAU,CAAC;EACvB;EAEA8B,iBAAiB,CAACJ,SAAS,EAAEK,MAAM,EAAE;IACjC,OAAOhB,KAAK,CAAE,GAAE,IAAI,CAACF,QAAS,mBAAkBa,SAAU,EAAC,EAAE;MACzDL,MAAM,EAAEU,MAAM,GAAG,QAAQ,GAAG,KAAK;MACjCpB,OAAO,EAAE,IAAI,CAACC;IAClB,CAAC,CAAC,CAACR,IAAI,CAACJ,UAAU,CAAC;EACvB;AACJ;AAEA,MAAMgC,MAAM,GAAG;EACXtB,OAAO,EAAE,+BAA+B;EACxCC,OAAO,EAAE;IACL,cAAc,EAAE,kBAAkB;IAClCsB,aAAa,EAAE;EACnB;AACJ,CAAC;AAED,MAAMC,GAAG,GAAG,IAAI1B,GAAG,CAACwB,MAAM,CAAC;AAE3B,eAAeE,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}