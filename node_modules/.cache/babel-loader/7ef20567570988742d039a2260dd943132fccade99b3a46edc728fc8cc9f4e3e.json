{"ast":null,"code":"var _jsxFileName = \"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/src/components/App/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Spin } from 'antd';\nimport Header from '../Header/Header';\nimport Logo from '../Logo/Logo';\nimport Search from '../Search/Search';\nimport CardList from '../CardList/CardList';\nimport api from '../../utils/api';\nimport isLike from '../../utils/utils';\nimport s from './style.module.css';\nimport ProductPage from '../ProductPage/ProductPage';\nimport FAQPage from '../FAQPage/FAQPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [user, setUser] = useState({});\n  const handleRequest = useCallback(newSearchQuery => {\n    setIsLoading(true);\n    api.search(newSearchQuery).then(data => setCards(data)).finally(() => setIsLoading(false));\n  }, []);\n  const handleUpdateUser = useCallback(updateUser => {\n    api.updateUserInfo(updateUser).then(newUser => setUser(newUser));\n  }, []);\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getAllProducts()]).then(_ref => {\n      let [userData, productsData] = _ref;\n      setUser(userData);\n      setCards(productsData.products);\n      setIsLoading(false);\n    });\n  }, []);\n  const handleProductLike = (productId, productLikes) => {\n    const isLiked = isLike(productLikes, user._id);\n    api.changeLikeStatus(productId, isLiked).then(updateProduct => {\n      const updateCards = cards.map(card => card._id === updateProduct._id ? updateProduct : card);\n      setCards(updateCards);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      user: user,\n      handleUpdateUser: handleUpdateUser,\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        onSearch: handleRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.container,\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 49\n      }, this) : /*#__PURE__*/_jsxDEV(FAQPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 65\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"kwws4yLjtkZGsbgk5KW6Y+TK7mM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Spin","Header","Logo","Search","CardList","api","isLike","s","ProductPage","FAQPage","App","cards","setCards","isLoading","setIsLoading","user","setUser","handleRequest","newSearchQuery","search","then","data","finally","handleUpdateUser","updateUser","updateUserInfo","newUser","Promise","all","getUserInfo","getAllProducts","userData","productsData","products","handleProductLike","productId","productLikes","isLiked","_id","changeLikeStatus","updateProduct","updateCards","map","card","container"],"sources":["/home/titus/Рабочий стол/dog-food/src/components/App/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Spin } from 'antd';\nimport Header from '../Header/Header';\nimport Logo from '../Logo/Logo';\nimport Search from '../Search/Search';\nimport CardList from '../CardList/CardList';\nimport api from '../../utils/api';\nimport isLike from '../../utils/utils';\n\nimport s from './style.module.css';\nimport ProductPage from '../ProductPage/ProductPage';\nimport FAQPage from '../FAQPage/FAQPage';\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  const handleRequest = useCallback((newSearchQuery) => {\n    setIsLoading(true);\n    api\n      .search(newSearchQuery)\n      .then((data) => setCards(data))\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  const handleUpdateUser = useCallback((updateUser) => {\n    api.updateUserInfo(updateUser).then((newUser) => setUser(newUser));\n  }, []);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getAllProducts()]).then(([userData, productsData]) => {\n      setUser(userData);\n      setCards(productsData.products);\n      setIsLoading(false);\n    });\n  }, []);\n\n  const handleProductLike = (productId, productLikes) => {\n    const isLiked = isLike(productLikes, user._id);\n    api.changeLikeStatus(productId, isLiked).then((updateProduct) => {\n      const updateCards = cards.map((card) => (card._id === updateProduct._id ? updateProduct : card));\n      setCards(updateCards);\n    });\n  };\n\n  return (\n    <>\n      <Header user={user} handleUpdateUser={handleUpdateUser}>\n        <Logo />\n        <Search onSearch={handleRequest} />\n      </Header>\n      {/* <div className={s.container}>{isLoading ? <Spin></Spin> : <CardList userId={user?._id} handleProductLike={handleProductLike} cards={cards}></CardList>}</div> */}\n      {/* <div className={s.container}>{isLoading ? <Spin></Spin> : <ProductPage user={user}></ProductPage>}</div> */}\n      <div className={s.container}>{isLoading ? <Spin></Spin> : <FAQPage />}</div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}