{"ast":null,"code":"import _objectSpread from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useCallback}from\"react\";import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useParams}from\"react-router-dom\";import{NotFound}from\"../../components/NotFound/NotFound\";import{Product}from\"../../components/Product/product\";import Spinner from\"../../components/Spinner\";import{fetchChangeLikeProduct}from\"../../storage/products/productsSlice\";import{fetchSingleProduct,setProductState}from\"../../storage/singleProduct/singleProductSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ProductPage=function ProductPage(){var _useParams=useParams(),productId=_useParams.productId;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.singleProduct;}),product=_useSelector.data,isLoading=_useSelector.loading,errorState=_useSelector.error;useEffect(function(){dispatch(fetchSingleProduct(productId));},[dispatch,productId]);var handleProductLike=useCallback(function(){dispatch(fetchChangeLikeProduct(product)).then(function(updateProduct){dispatch(setProductState(updateProduct.payload.product));});},[product,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"container container_inner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content__cards\",children:[isLoading?/*#__PURE__*/_jsx(Spinner,{}):!errorState&&/*#__PURE__*/_jsx(Product,_objectSpread(_objectSpread({},product),{},{onProductLike:handleProductLike})),!isLoading&&errorState&&/*#__PURE__*/_jsx(NotFound,{})]})});};","map":{"version":3,"names":["useCallback","useEffect","useDispatch","useSelector","useParams","NotFound","Product","Spinner","fetchChangeLikeProduct","fetchSingleProduct","setProductState","ProductPage","productId","dispatch","state","singleProduct","product","data","isLoading","loading","errorState","error","handleProductLike","then","updateProduct","payload"],"sources":["/home/titus/Рабочий стол/dog-food/src/pages/ProductPage/product-page.jsx"],"sourcesContent":["import { useCallback } from \"react\"\nimport { useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useParams } from \"react-router-dom\"\nimport { NotFound } from \"../../components/NotFound/NotFound\"\nimport { Product } from \"../../components/Product/product\"\nimport Spinner from \"../../components/Spinner\"\nimport { fetchChangeLikeProduct } from \"../../storage/products/productsSlice\"\nimport { fetchSingleProduct, setProductState } from \"../../storage/singleProduct/singleProductSlice\"\n\nexport const ProductPage = () => {\n    const { productId } = useParams();\n    const dispatch = useDispatch();\n    const {data: product, loading: isLoading, error: errorState} = useSelector(state => state.singleProduct)\n\n\n    useEffect(()=>{\n      dispatch(fetchSingleProduct(productId))\n    }, [dispatch, productId]);\n\n\n\n    const handleProductLike = useCallback(() => {  \n      dispatch(fetchChangeLikeProduct(product))\n        .then(updateProduct => {\n          dispatch(setProductState(updateProduct.payload.product))\n        })\n    },[product, dispatch]) \n    \n\n    return (\n      <div className=\"container container_inner\">\n          <div className='content__cards'>\n            {isLoading \n              ?<Spinner/>\n              : !errorState && <Product {...product} onProductLike={handleProductLike}/>\n            }\n            {!isLoading && errorState && <NotFound/>}\n            </div>\n      </div>\n    )\n}"],"mappings":"6KAAA,OAASA,WAAW,KAAQ,OAAO,CACnC,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,QAAQ,KAAQ,oCAAoC,CAC7D,OAASC,OAAO,KAAQ,kCAAkC,CAC1D,MAAOC,QAAO,KAAM,0BAA0B,CAC9C,OAASC,sBAAsB,KAAQ,sCAAsC,CAC7E,OAASC,kBAAkB,CAAEC,eAAe,KAAQ,gDAAgD,yFAEpG,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CAC7B,eAAsBP,SAAS,EAAE,CAAzBQ,SAAS,YAATA,SAAS,CACjB,GAAMC,SAAQ,CAAGX,WAAW,EAAE,CAC9B,iBAA+DC,WAAW,CAAC,SAAAW,KAAK,QAAIA,MAAK,CAACC,aAAa,GAAC,CAA3FC,OAAO,cAAbC,IAAI,CAAoBC,SAAS,cAAlBC,OAAO,CAAoBC,UAAU,cAAjBC,KAAK,CAG/CpB,SAAS,CAAC,UAAI,CACZY,QAAQ,CAACJ,kBAAkB,CAACG,SAAS,CAAC,CAAC,CACzC,CAAC,CAAE,CAACC,QAAQ,CAAED,SAAS,CAAC,CAAC,CAIzB,GAAMU,kBAAiB,CAAGtB,WAAW,CAAC,UAAM,CAC1Ca,QAAQ,CAACL,sBAAsB,CAACQ,OAAO,CAAC,CAAC,CACtCO,IAAI,CAAC,SAAAC,aAAa,CAAI,CACrBX,QAAQ,CAACH,eAAe,CAACc,aAAa,CAACC,OAAO,CAACT,OAAO,CAAC,CAAC,CAC1D,CAAC,CAAC,CACN,CAAC,CAAC,CAACA,OAAO,CAAEH,QAAQ,CAAC,CAAC,CAGtB,mBACE,YAAK,SAAS,CAAC,2BAA2B,uBACtC,aAAK,SAAS,CAAC,gBAAgB,WAC5BK,SAAS,cACP,KAAC,OAAO,IAAE,CACT,CAACE,UAAU,eAAI,KAAC,OAAO,gCAAKJ,OAAO,MAAE,aAAa,CAAEM,iBAAkB,GAAE,CAE3E,CAACJ,SAAS,EAAIE,UAAU,eAAI,KAAC,QAAQ,IAAE,GAClC,EACN,CAEZ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}