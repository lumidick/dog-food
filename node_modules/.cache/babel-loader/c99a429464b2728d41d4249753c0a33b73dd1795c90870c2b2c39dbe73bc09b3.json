{"ast":null,"code":"import _regeneratorRuntime from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import{isError}from'../../utils/store';export var fetchUser=createAsyncThunk('user/fetchUser',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_,_ref){var rejectWithValue,fulfillWithValue,dispatch,getState,api,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue,fulfillWithValue=_ref.fulfillWithValue,dispatch=_ref.dispatch,getState=_ref.getState,api=_ref.extra;_context.prev=1;_context.next=4;return api.getUserInfo();case 4:data=_context.sent;return _context.abrupt(\"return\",fulfillWithValue(data));case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(_context.t0));case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());var initialState={data:{},loading:true,error:null};var userSlice=createSlice({name:'user',initialState:initialState,extraReducers:function extraReducers(builder){builder.addCase(fetchUser.pending,function(state,action){state.loading=true;state.error=null;})//products/fetchProducts/pending\n.addCase(fetchUser.fulfilled,function(state,action){state.data=action.payload;state.loading=false;})//products/fetchProducts/fulfilled\n.addMatcher(isError,function(state,action){state.error=action.payload;state.loading=false;});//products/fetchProducts/rejected\n}});export default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","isError","fetchUser","_","rejectWithValue","fulfillWithValue","dispatch","getState","api","extra","getUserInfo","data","initialState","loading","error","userSlice","name","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","addMatcher","reducer"],"sources":["/home/titus/Рабочий стол/dog-food/src/storage/user/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { isError } from '../../utils/store';\n\nexport const fetchUser = createAsyncThunk(\n  'user/fetchUser',\n  async function (\n    _,\n    { rejectWithValue, fulfillWithValue, dispatch, getState, extra: api }\n  ) {\n    try {\n      const data = await api.getUserInfo();\n      return fulfillWithValue(data);\n\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nconst initialState = {\n  data: {},\n  loading: true,\n  error: null,\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUser.pending, (state, action) => {\n        state.loading = true;\n        state.error = null;\n      }) //products/fetchProducts/pending\n      .addCase(fetchUser.fulfilled, (state, action) => {\n        state.data = action.payload;\n        state.loading = false;\n      }) //products/fetchProducts/fulfilled\n      \n      .addMatcher(isError, (state, action) => {\n        state.error = action.payload;\n        state.loading = false;\n      }); //products/fetchProducts/rejected\n  },\n});\n\nexport default userSlice.reducer;\n"],"mappings":"4WAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,OAASC,OAAO,KAAQ,mBAAmB,CAE3C,MAAO,IAAMC,UAAS,CAAGF,gBAAgB,CACvC,gBAAgB,6FAChB,iBACEG,CAAC,wLACCC,eAAe,MAAfA,eAAe,CAAEC,gBAAgB,MAAhBA,gBAAgB,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,QAAQ,MAARA,QAAQ,CAASC,GAAG,MAAVC,KAAK,uCAGzCD,IAAG,CAACE,WAAW,EAAE,QAA9BC,IAAI,+CACHN,gBAAgB,CAACM,IAAI,CAAC,0FAGtBP,eAAe,aAAO,qEAEhC,oEACF,CAED,GAAMQ,aAAY,CAAG,CACnBD,IAAI,CAAE,CAAC,CAAC,CACRE,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,IACT,CAAC,CAED,GAAMC,UAAS,CAAGhB,WAAW,CAAC,CAC5BiB,IAAI,CAAE,MAAM,CACZJ,YAAY,CAAZA,YAAY,CACZK,aAAa,CAAE,uBAACC,OAAO,CAAK,CAC1BA,OAAO,CACJC,OAAO,CAACjB,SAAS,CAACkB,OAAO,CAAE,SAACC,KAAK,CAAEC,MAAM,CAAK,CAC7CD,KAAK,CAACR,OAAO,CAAG,IAAI,CACpBQ,KAAK,CAACP,KAAK,CAAG,IAAI,CACpB,CAAC,CAAE;AAAA,CACFK,OAAO,CAACjB,SAAS,CAACqB,SAAS,CAAE,SAACF,KAAK,CAAEC,MAAM,CAAK,CAC/CD,KAAK,CAACV,IAAI,CAAGW,MAAM,CAACE,OAAO,CAC3BH,KAAK,CAACR,OAAO,CAAG,KAAK,CACvB,CAAC,CAAE;AAAA,CAEFY,UAAU,CAACxB,OAAO,CAAE,SAACoB,KAAK,CAAEC,MAAM,CAAK,CACtCD,KAAK,CAACP,KAAK,CAAGQ,MAAM,CAACE,OAAO,CAC5BH,KAAK,CAACR,OAAO,CAAG,KAAK,CACvB,CAAC,CAAC,CAAE;AACR,CACF,CAAC,CAAC,CAEF,cAAeE,UAAS,CAACW,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}