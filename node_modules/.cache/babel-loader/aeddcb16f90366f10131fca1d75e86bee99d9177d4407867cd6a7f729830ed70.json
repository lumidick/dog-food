{"ast":null,"code":"import _objectSpread from\"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useForm}from\"react-hook-form\";import{useLocation,useNavigate}from\"react-router-dom\";import{EMAIL_REGEXP,PASSWORD_REGEXP,VALIDATE_CONFIG}from\"../../utils/contants\";import Form from\"../Form/form\";import{FormButton}from\"../FormButton/form-button\";import{FormInput}from\"../FormInput/form-input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _location$state,_errors$email,_errors$password;var location=useLocation();var initialPath=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.initialPath;var _useForm=useForm({mode:\"onBlur\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var navigate=useNavigate();var handleClickResetButton=function handleClickResetButton(e){e.preventDefault();navigate('/reset-password',{replace:true,state:{backgroundLocation:location,initialPath:initialPath}});};var handleClickRegistrationButton=function handleClickRegistrationButton(e){e.preventDefault();navigate('/register',{replace:true,state:{backgroundLocation:location,initialPath:initialPath}});};var sendRegisterApi=function sendRegisterApi(data){console.log(data);};var emailRegister=register('email',{required:{value:true,message:VALIDATE_CONFIG.requiredMessage},pattern:{value:EMAIL_REGEXP,message:VALIDATE_CONFIG.emailMessage}});var passwordRegister=register('password',{required:{value:true,message:VALIDATE_CONFIG.requiredMessage},pattern:{value:PASSWORD_REGEXP,message:VALIDATE_CONFIG.passwordMesssage}});return/*#__PURE__*/_jsxs(Form,{title:\"\\u0412\\u0445\\u043E\\u0434\",handleFormSubmit:handleSubmit(sendRegisterApi),children:[/*#__PURE__*/_jsx(FormInput,_objectSpread(_objectSpread({},emailRegister),{},{id:\"email\",type:\"text\",placeholder:\"email\"})),(errors===null||errors===void 0?void 0:errors.email)&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:errors===null||errors===void 0?void 0:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message}),/*#__PURE__*/_jsx(FormInput,_objectSpread(_objectSpread({},passwordRegister),{},{id:\"password\",type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"})),(errors===null||errors===void 0?void 0:errors.password)&&/*#__PURE__*/_jsx(\"p\",{className:\"errorMessage\",children:errors===null||errors===void 0?void 0:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message}),/*#__PURE__*/_jsx(\"p\",{className:\"infoText link\",onClick:handleClickResetButton,children:\"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(FormButton,{type:\"submit\",color:\"yellow\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(FormButton,{color:\"white\",type:\"button\",onClick:handleClickRegistrationButton,children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})]});};","map":{"version":3,"names":["useForm","useLocation","useNavigate","EMAIL_REGEXP","PASSWORD_REGEXP","VALIDATE_CONFIG","Form","FormButton","FormInput","Login","location","initialPath","state","mode","register","handleSubmit","errors","formState","navigate","handleClickResetButton","e","preventDefault","replace","backgroundLocation","handleClickRegistrationButton","sendRegisterApi","data","console","log","emailRegister","required","value","message","requiredMessage","pattern","emailMessage","passwordRegister","passwordMesssage","email","password"],"sources":["/home/titus/Рабочий стол/dog-food/src/components/Login/login.jsx"],"sourcesContent":["import { useForm } from \"react-hook-form\";\nimport {  useLocation, useNavigate } from \"react-router-dom\";\nimport { EMAIL_REGEXP, PASSWORD_REGEXP, VALIDATE_CONFIG } from \"../../utils/contants\";\nimport Form from \"../Form/form\";\nimport { FormButton } from \"../FormButton/form-button\";\nimport { FormInput } from \"../FormInput/form-input\";\n\nexport const Login = () => {\n    const location = useLocation();\n    const initialPath = location.state?.initialPath;\n\n    const { register, handleSubmit, formState: { errors } } = useForm({ mode: \"onBlur\" })\n    const navigate = useNavigate()\n    \n    const handleClickResetButton = (e) => {\n        e.preventDefault();\n        navigate('/reset-password',  { replace: true, state: {backgroundLocation: location, initialPath}});\n    }\n\n    const handleClickRegistrationButton = (e) => {\n        e.preventDefault();\n        navigate('/register',  { replace: true, state: {backgroundLocation: location, initialPath}});\n    }\n\n    const sendRegisterApi = (data) => {\n        console.log(data);\n    }\n \n    const emailRegister = register('email', {\n        required: {\n            value: true,\n            message: VALIDATE_CONFIG.requiredMessage\n        },\n        pattern: {\n            value: EMAIL_REGEXP,\n            message: VALIDATE_CONFIG.emailMessage\n        }\n    })\n\n    const passwordRegister = register('password', {\n        required: {\n            value: true,\n            message: VALIDATE_CONFIG.requiredMessage\n        },\n        pattern: {\n            value: PASSWORD_REGEXP,\n            message: VALIDATE_CONFIG.passwordMesssage\n        }\n    })\n\n    return (\n        <Form title=\"Вход\" handleFormSubmit={handleSubmit(sendRegisterApi)}>\n            <FormInput\n                {...emailRegister}\n                id=\"email\"\n                type=\"text\"\n                placeholder=\"email\"\n            />\n            {errors?.email && <p className='errorMessage'>{errors?.email?.message}</p>}\n\n            <FormInput\n                {...passwordRegister}\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"Пароль\"\n            />\n            {errors?.password && <p className='errorMessage'>{errors?.password?.message}</p>}\n\n            <p className=\"infoText link\" onClick={handleClickResetButton}>Восстановить пароль</p>\n            <FormButton type=\"submit\" color=\"yellow\">Войти</FormButton>\n            <FormButton color=\"white\" type=\"button\" onClick={handleClickRegistrationButton}>Регистрация</FormButton>\n        </Form>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}