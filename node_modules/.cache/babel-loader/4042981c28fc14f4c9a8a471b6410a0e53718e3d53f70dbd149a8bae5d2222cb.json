{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { isError } from '../../utils/store';\nexport const fetchUser = createAsyncThunk('user/fetchUser', async function (_, _ref) {\n  let {\n    rejectWithValue,\n    fulfillWithValue,\n    dispatch,\n    getState,\n    extra: api\n  } = _ref;\n  try {\n    const data = await api.getUserInfo();\n    return fulfillWithValue(data);\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nconst initialState = {\n  data: {},\n  loading: true,\n  error: null\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  extraReducers: builder => {\n    builder.addCase(fetchUser.pending, (state, action) => {\n      state.loading = true;\n      state.error = null;\n    }) //products/fetchProducts/pending\n    .addCase(fetchUser.fulfilled, (state, action) => {\n      state.data = action.payload;\n      state.loading = false;\n    }) //products/fetchProducts/fulfilled\n    .addMatcher(isError, (state, action) => {\n      state.error = action.payload;\n      state.loading = false;\n    }); //products/fetchProducts/rejected\n  }\n});\n\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","isError","fetchUser","_","rejectWithValue","fulfillWithValue","dispatch","getState","extra","api","data","getUserInfo","error","initialState","loading","userSlice","name","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","addMatcher","reducer"],"sources":["/home/titus/Рабочий стол/dog-food/src/storage/user/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { isError } from '../../utils/store';\n\nexport const fetchUser = createAsyncThunk(\n  'user/fetchUser',\n  async function (\n    _,\n    { rejectWithValue, fulfillWithValue, dispatch, getState, extra: api }\n  ) {\n    try {\n      const data = await api.getUserInfo();\n      return fulfillWithValue(data);\n\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  }\n);\n\nconst initialState = {\n  data: {},\n  loading: true,\n  error: null,\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchUser.pending, (state, action) => {\n        state.loading = true;\n        state.error = null;\n      }) //products/fetchProducts/pending\n      .addCase(fetchUser.fulfilled, (state, action) => {\n        state.data = action.payload;\n        state.loading = false;\n      }) //products/fetchProducts/fulfilled\n      \n      .addMatcher(isError, (state, action) => {\n        state.error = action.payload;\n        state.loading = false;\n      }); //products/fetchProducts/rejected\n  },\n});\n\nexport default userSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,SAASC,OAAO,QAAQ,mBAAmB;AAE3C,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,CACvC,gBAAgB,EAChB,gBACEG,CAAC,QAED;EAAA,IADA;IAAEC,eAAe;IAAEC,gBAAgB;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC,KAAK,EAAEC;EAAI,CAAC;EAErE,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMD,GAAG,CAACE,WAAW,EAAE;IACpC,OAAON,gBAAgB,CAACK,IAAI,CAAC;EAE/B,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOR,eAAe,CAACQ,KAAK,CAAC;EAC/B;AACF,CAAC,CACF;AAED,MAAMC,YAAY,GAAG;EACnBH,IAAI,EAAE,CAAC,CAAC;EACRI,OAAO,EAAE,IAAI;EACbF,KAAK,EAAE;AACT,CAAC;AAED,MAAMG,SAAS,GAAGhB,WAAW,CAAC;EAC5BiB,IAAI,EAAE,MAAM;EACZH,YAAY;EACZI,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACjB,SAAS,CAACkB,OAAO,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC7CD,KAAK,CAACP,OAAO,GAAG,IAAI;MACpBO,KAAK,CAACT,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CAAC;IAAA,CACFO,OAAO,CAACjB,SAAS,CAACqB,SAAS,EAAE,CAACF,KAAK,EAAEC,MAAM,KAAK;MAC/CD,KAAK,CAACX,IAAI,GAAGY,MAAM,CAACE,OAAO;MAC3BH,KAAK,CAACP,OAAO,GAAG,KAAK;IACvB,CAAC,CAAC,CAAC;IAAA,CAEFW,UAAU,CAACxB,OAAO,EAAE,CAACoB,KAAK,EAAEC,MAAM,KAAK;MACtCD,KAAK,CAACT,KAAK,GAAGU,MAAM,CAACE,OAAO;MAC5BH,KAAK,CAACP,OAAO,GAAG,KAAK;IACvB,CAAC,CAAC,CAAC,CAAC;EACR;AACF,CAAC,CAAC;;AAEF,eAAeC,SAAS,CAACW,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}