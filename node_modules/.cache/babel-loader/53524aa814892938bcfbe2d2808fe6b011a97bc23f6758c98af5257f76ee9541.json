{"ast":null,"code":"var _jsxFileName = \"/home/titus/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/dog-food/src/components/Rating/rating.jsx\",\n  _s = $RefreshSig$();\nimport cn from \"classnames\";\nimport s from './index.module.css';\nimport { useEffect, useState, useCallback } from \"react\";\nimport { ReactComponent as StarIcon } from \"./star.svg\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Rating = _ref => {\n  _s();\n  let {\n    isEditable = false,\n    rating,\n    setRating = null\n  } = _ref;\n  const [ratingArray, setRatingArray] = useState(new Array(5).fill( /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)));\n  const constructRating = useCallback(currentRating => {\n    const updateArray = ratingArray.map((ratingElement, index) => {\n      return /*#__PURE__*/_jsxDEV(StarIcon, {\n        className: cn(s.star, {\n          [s.filled]: index < currentRating,\n          [s.editable]: isEditable\n        }),\n        onMouseEnter: () => changeDisplay(index + 1),\n        onMouseLeave: () => changeDisplay(rating),\n        onClick: () => changeRating(index + 1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this);\n    });\n    setRatingArray(updateArray);\n  }, [rating, isEditable]);\n  const changeDisplay = rating => {\n    if (!isEditable) return;\n    constructRating(rating);\n  };\n  const changeRating = rating => {\n    if (!isEditable || !setRating) return;\n    setRating(rating);\n  };\n  useEffect(() => {\n    constructRating(rating);\n  }, [rating, constructRating]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: ratingArray.map((r, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: r\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 40\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(Rating, \"D44p5jBh1+A5coRERxCocv0V/s4=\");\n_c = Rating;\nvar _c;\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["cn","s","useEffect","useState","useCallback","ReactComponent","StarIcon","Rating","isEditable","rating","setRating","ratingArray","setRatingArray","Array","fill","constructRating","currentRating","updateArray","map","ratingElement","index","star","filled","editable","changeDisplay","changeRating","r","i"],"sources":["/home/titus/Рабочий стол/dog-food/src/components/Rating/rating.jsx"],"sourcesContent":["import cn  from \"classnames\";\nimport s from './index.module.css'\nimport { useEffect, useState, useCallback } from \"react\";\nimport { ReactComponent as StarIcon } from \"./star.svg\";\n\n\nexport const Rating = ({isEditable = false, rating, setRating = null}) => {\n    const [ratingArray, setRatingArray] = useState(new Array(5).fill(<></>));\n\n    const constructRating = useCallback((currentRating) => {\n        const updateArray = ratingArray.map((ratingElement, index) => {\n            return (\n                <StarIcon\n                    className={cn(s.star, {\n                        [s.filled]: index < currentRating,\n                        [s.editable]: isEditable\n                    })}\n                    onMouseEnter={()=>changeDisplay(index + 1)}\n                    onMouseLeave={()=>changeDisplay(rating)}\n                    onClick={() => changeRating(index + 1)}\n\n                />\n            )\n        })\n        setRatingArray(updateArray)\n    },[rating, isEditable])\n    \n    const changeDisplay = (rating) => {\n        if(!isEditable) return\n        constructRating(rating)\n    }\n\n    const changeRating = (rating) => {\n        if(!isEditable || !setRating) return\n\n        setRating(rating)\n    }\n\n    useEffect(() => {\n        constructRating(rating)\n    }, [rating, constructRating])\n\n\n\n    return (\n        <div> \n            {ratingArray.map((r, i) => <span key={i}>{ r }</span>) }\n        </div>\n    )\n}"],"mappings":";;AAAA,OAAOA,EAAE,MAAO,YAAY;AAC5B,OAAOC,CAAC,MAAM,oBAAoB;AAClC,SAASC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAASC,cAAc,IAAIC,QAAQ,QAAQ,YAAY;AAAC;AAAA;AAGxD,OAAO,MAAMC,MAAM,GAAG,QAAoD;EAAA;EAAA,IAAnD;IAACC,UAAU,GAAG,KAAK;IAAEC,MAAM;IAAEC,SAAS,GAAG;EAAI,CAAC;EACjE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,IAAIU,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,eAAC,qCAAK,CAAC,CAAC;EAExE,MAAMC,eAAe,GAAGX,WAAW,CAAEY,aAAa,IAAK;IACnD,MAAMC,WAAW,GAAGN,WAAW,CAACO,GAAG,CAAC,CAACC,aAAa,EAAEC,KAAK,KAAK;MAC1D,oBACI,QAAC,QAAQ;QACL,SAAS,EAAEpB,EAAE,CAACC,CAAC,CAACoB,IAAI,EAAE;UAClB,CAACpB,CAAC,CAACqB,MAAM,GAAGF,KAAK,GAAGJ,aAAa;UACjC,CAACf,CAAC,CAACsB,QAAQ,GAAGf;QAClB,CAAC,CAAE;QACH,YAAY,EAAE,MAAIgB,aAAa,CAACJ,KAAK,GAAG,CAAC,CAAE;QAC3C,YAAY,EAAE,MAAII,aAAa,CAACf,MAAM,CAAE;QACxC,OAAO,EAAE,MAAMgB,YAAY,CAACL,KAAK,GAAG,CAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAEzC;IAEV,CAAC,CAAC;IACFR,cAAc,CAACK,WAAW,CAAC;EAC/B,CAAC,EAAC,CAACR,MAAM,EAAED,UAAU,CAAC,CAAC;EAEvB,MAAMgB,aAAa,GAAIf,MAAM,IAAK;IAC9B,IAAG,CAACD,UAAU,EAAE;IAChBO,eAAe,CAACN,MAAM,CAAC;EAC3B,CAAC;EAED,MAAMgB,YAAY,GAAIhB,MAAM,IAAK;IAC7B,IAAG,CAACD,UAAU,IAAI,CAACE,SAAS,EAAE;IAE9BA,SAAS,CAACD,MAAM,CAAC;EACrB,CAAC;EAEDP,SAAS,CAAC,MAAM;IACZa,eAAe,CAACN,MAAM,CAAC;EAC3B,CAAC,EAAE,CAACA,MAAM,EAAEM,eAAe,CAAC,CAAC;EAI7B,oBACI;IAAA,UACKJ,WAAW,CAACO,GAAG,CAAC,CAACQ,CAAC,EAAEC,CAAC,kBAAK;MAAA,UAAgBD;IAAC,GAANC,CAAC;MAAA;MAAA;MAAA;IAAA,QAAc;EAAC;IAAA;IAAA;IAAA;EAAA,QACpD;AAEd,CAAC;AAAA,GA3CYpB,MAAM;AAAA,KAANA,MAAM;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}